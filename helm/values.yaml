image:
  # -- use a custom ECR repository to pull the Docker image used by the pods
  repository: ghcr.io/firebolt-db/firebolt-core
  # -- use a custom Docker image tag; when unspecified the app version from chart will be used instead
  tag:

# -- number of nodes to deploy
nodesCount: 1

# -- tolerations allows you to configure pod tolerations.
# See: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/
tolerations: []

# -- affinity allows you to configure pod affinity and anti-affinity.
# See: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
affinity: {}

# -- nodeSelector allows you to configure a node selection constraint.
# See: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#nodeselector
nodeSelector: {}

# -- readiness check on each pod
readiness: true

# -- deploy a PodMonitor for Prometheus metrics scraping
podMonitor: false

# -- sets the update strategy for the statefulset; using the default 'RollingUpdate' requires no manual intervention.
# See: https://docs.firebolt.io/firebolt-core/firebolt-core-operation/firebolt-core-deployment-k8s#updating-firebolt-core-version
#updateStrategy: RollingUpdate

# -- enable non-root mode, requires a compatible Firebolt Core docker image; recent images are all non-root
nonRoot: true

# -- automatically attempt to set memlock limits on container startup; not necessary if your nodes already have a large enough memlock limit.
memlockSetup: true

# -- deploy 1 Core UI sidecar for each node
uiSidecar: false

# -- service account which pods will use for their identity
serviceAccount: default

# -- specify custom security context capabilities for firebolt container
securityContextCapabilities:
  drop:
    - ALL

# -- resources for each pod; at least 1 core is advised
resources:
  requests:
    cpu: "1"
    memory: 4Gi
  limits:
    memory: 4Gi

# -- extra labels to assign to each pod
extraLabels:
  firebolt/product: core

# -- custom init containers to be injected into the pod
customInitContainers: []
# Example:
# customInitContainers:
#   - name: custom-init
#     image: busybox:latest
#     command: ['sh', '-c', 'echo "Custom init container"']

# -- custom configuration for nodes
customNodeConfig:

deployment:
  # -- give a few seconds of grace time on shutdown to allow queries to finish
  terminationGracePeriodSeconds: 5
  # -- When false (default), persistent storage via volumeClaimTemplates (PVC) is used
  # -- and `deployment.storageSpec` is applied. When true, PVCs are not created and
  # -- `deployment.storageHostPath` is used instead. Only one mode is active at a time.
  hostPathStorageEnabled: false
  # -- hostPath settings used when hostPathStorageEnabled=true
  storageHostPath:
    # -- path on the node's filesystem to store data
    path: /var/lib/firebolt-core
    # -- hostPath type, e.g. DirectoryOrCreate, Directory, File, etc.
    type: DirectoryOrCreate

  storageSpec:
    # -- PersistentVolumeClaim spec used when hostPathStorageEnabled=false. Ignored when hostPathStorageEnabled=true.
    accessModes:
      - ReadWriteOnce
    # no storage class specified to be compatible with multiple cloud providers
    resources:
      requests:
        storage: 1Gi
      limits:
        storage: 1Gi

utilitiesImage: debian:stable-slim
